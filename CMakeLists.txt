cmake_minimum_required(VERSION 3.8)
project(dro)

set(CMAKE_CXX_STANDARD 11)

add_compile_options(-fno-exceptions)

include_directories(".")
include_directories("cortexm")
include_directories("cortexm/lpc")
include_directories("ezcpp")

set(SOURCE_FILES
        cortexm/lpc/baudsearch.cpp
        cortexm/lpc/baudsearch.h
        cortexm/lpc/clocks.cpp
        cortexm/lpc/clocks1343.h
        cortexm/lpc/gpio.cpp
        cortexm/lpc/gpio.h
        cortexm/lpc/iocon.cpp
        cortexm/lpc/iocon.h
        cortexm/lpc/lpc13xx.cpp
        cortexm/lpc/lpc13xx.h
        cortexm/lpc/lpcperipheral.h
        cortexm/lpc/p1343_board.cpp
        cortexm/lpc/p1343_board.h
        cortexm/lpc/pinirq.h
        cortexm/lpc/power_api.h
        cortexm/lpc/startsignal.h
        cortexm/lpc/syscon.cpp
        cortexm/lpc/syscon.h
        cortexm/lpc/uart.cpp
        cortexm/lpc/uart.h
        cortexm/lpc/usbinterface.cpp
        cortexm/lpc/usbinterface.h
        cortexm/lpc/wdt.cpp
        cortexm/lpc/wdt.h
        cortexm/clocks.h
        cortexm/clockstarter.cpp
        cortexm/core-atomic.cpp
        cortexm/core-atomic.h
        cortexm/core_cm3.cpp
        cortexm/core_cm3.h
        cortexm/core_cmFunc.h
        cortexm/core_cmInstr.h
        cortexm/coredebug.cpp
        cortexm/coredebug.h
        cortexm/cruntime.h
        cortexm/cstartup.cpp
        cortexm/debugio.h
        cortexm/fifo.cpp
        cortexm/fifo.h
        cortexm/msservice.h
        cortexm/nvic.cpp
        cortexm/nvic.h
        cortexm/nvicstub.cpp
        cortexm/peripheralband.h
        cortexm/peripheraltypes.h
        cortexm/systick.cpp
        cortexm/systick.h
        cortexm/wtf.cpp
        cortexm/wtf.h
        ezcpp/bitbanger.cpp
        ezcpp/bitbanger.h
        ezcpp/boolish.cpp
        ezcpp/boolish.h
        ezcpp/bundler.h
        ezcpp/char.cpp
        ezcpp/char.h
        ezcpp/cheaptricks.cpp
        ezcpp/cheaptricks.h
        ezcpp/circularpointer.cpp
        ezcpp/circularpointer.h
        ezcpp/cstr.cpp
        ezcpp/cstr.h
        ezcpp/eztypes.h
        ezcpp/hook.h
        ezcpp/index.h
        ezcpp/limitedcounter.cpp
        ezcpp/limitedcounter.h
        ezcpp/limitedpointer.cpp
        ezcpp/limitedpointer.h
        ezcpp/minimath.cpp
        ezcpp/minimath.h
        ezcpp/polledtimer.cpp
        ezcpp/polledtimer.h
        ezcpp/quadraturecounter.cpp
        ezcpp/quadraturecounter.h
        ezcpp/retriggerablemonostable.cpp
        ezcpp/retriggerablemonostable.h
        ezcpp/softpwm.cpp
        ezcpp/softpwm.h
        ezcpp/stopwatch.cpp
        ezcpp/stopwatch.h
        ezcpp/tableofpointers.h
        ezcpp/textkey.cpp
        ezcpp/textkey.h
        dro-lpc.cpp
        dro-lpc.ld )

add_executable(dro ${SOURCE_FILES})