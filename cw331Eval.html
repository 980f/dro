<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <title>cw331Eval</title>
  </head>
  <body>
    <p>crosstudio 3.3.1 evaluation</p>
    <p>likes</p>
    <ol>
      <li>debugger actually works. eclipse+openOCD tools just igve me a dull
        stare when I try to debug. Qtcreator "bare metal" mode has never worked
        for me, always complains about yet another configuration item without
        explaining where it is or what values it takes.</li>
      <li>license locked to usb ethernet adapter. My eval computer is on its
        last legs, it will be nice to be able to move to different computers.</li>
      <li>user interaction seems more responsive than 1.17, 2.x versions (I used
        crossstudio extensively in 2009&amp;2010 but not much since then.)</li>
      <li>up-to-date version of compiler: I am heavily invested in template
        programming to do type and range checking at compile time, as opposed to
        most of the world still using typeless #defines and trusting themselves
        to not use wrong arguments.</li>
      <li>similar enough to past versions that my hacks are still relevant, such
        as rolling my own startup and linker scripts.</li>
    </ol>
    <p>actual bugs:</p>
    <ol>
      <li>UI-annoying: clicking on linker error tries to display the linker
        executable, the linker script would seem to be a better choice (or do
        nothing since the error is correctly marked in the ld file). Sometimes
        this attempt to view the ld executable pops up automatically.</li>
      <li>usability-medium: the error view is brought forward but is empty
        despite the output view showing there are errors. I then have to switch
        to the output view and drill down the tree to get to the error content.</li>
      <li>text editor-minor: unhandled control keys become ordinary keys: ctrl-
        is '-' (expected font to shrink), ctrl. is '.' instead of halting
        execution. (since 1.17!)</li>
      <li>bug-middling:"Entry Symbol=none" still emits -e making next
        commandline arg be the entry symbol. I don't need an entry symbol so I
        shouldn't have to dummy one up.</li>
      <li>build-minor: '-u_vector' is put into ld commandline, but I am not
        using that for my vector table (using KEEP's instead). This used to be
        accessible from the properties editor but I can't find it therein.</li>
      <li>package error: "cannot find
        /home/andyh/.rowley_associates_limited/CrossWorks for
        ARM/v3/packages/targets/LPC1000/lib/liblpc1000_v7m_t_le_eabi_f_swc.a: No
        such file or directory"<br>
        'small' is present, but no 'swc' variant. I selected 'treat double as
        float', don't know which other properties affect lib selection. The lib
        wasn't useful to me at this time.</li>
    </ol>
    <p>annoyances:</p>
    <ol>
      <li>could not find project property for pre-processor defines, had to hack
        the xml and copy section from configuration block after which the option
        appeared under the project.</li>
      <li>file selection for project manager resolved symbolic links, subverting
        the point in having such links. EG: I put a link under my project source
        dir to point to a library that was in a different git repo. I'd like to
        be able to move around where that other repo is via changing the OS link
        without having to do a search and replace in my project files. Similar
        to "Make projects portable" request.</li>
      <li>Flash can be at two different addresses, either 0 or 128M on my stm32
        part. Apparently you enforce values from your xml target description,
        rather than trusting the linker. It would be handy if this check could
        be suppressed, or I shall experiment with adding another section to see
        if that is good enough.</li>
      <li>in symbol browser all symbols from __crossworks.h appear but I can't
        find anything I have included that includes that.</li>
      <li>In symbol browser constructors appear twice.</li>
      <li>white text on tangerine background is basically invisible to me, 'goto
        function' completion selection highlight.</li>
      <li>disabling startup breakpoint is often ignored. I set 'initial
        breakpoint' to "never", changed the function that it would stop on and
        the next debug session start it stopped at the new location (ie didn't
        simply fail to unset a previous breakpoint). Erasing the name prevented
        the initial breakpoint from happening.</li>
      <li><br>
      </li>
    </ol>
    <p>UI annoyances:</p>
    <ol>
      <li>with every C level debug step the memory window was scrolled back to
        its left margin, requiring me to yank it back each and every step to see
        the value I wanted. You should not be automatedly fooling with window
        scrollbars, that is extremely painful to deal with. Over the years
        crossworks also has had a tendency to change the expansion state of a
        tree with every step into another function and return, that also makes
        my wrists ache during any extended debug session and is a major time
        killer and distraction. (web: And ditto that for the display format of
        members of a struct or a local variable.) (web: "stable windows setup")<br>
        Summary: View state should not be altered during a data update, view
        state of locals should be remembered by function, not in sync with the
        stack as it executes.</li>
      <li>tedious: after breaking debug: frequently prompted to find a header
        file, even when the file open dialog has that file handy. Doesn't
        remember these selections very long, makes debug sessions tedious. I
        believe I can add header files to the project file, but as indicated by
        your "open include" right click menu you can sometimes&nbsp; find the
        files yourself.</li>
      <li>can't set breakpoint while download is going on. I understand that the
        jtag interface is a bit busy, but you could allow the local list of
        breakpoints to be edited while the download is proceeding. It is very
        normal that I hit "F5/Start Debug" *then* realize I need to set a
        breakpoint before execution begins (or restart the debug session).</li>
      <li>Find in editor doesn't have any access to change "whole word" "case"
        options, unlike find in files. It can be set globally but I want to be
        able to change it for a search underway and for each search as I get to
        it. Configured defaults is fine, but quick access to overrides is&nbsp;
        needed.</li>
    </ol>
    <p>Feature Requests</p>
    <ol>
      <li>Call Stack presently doesn't unwind past a hardware fault, presume the
        same for regular interrupts. The 'interrupt stack frame' is well
        defined, you should be able to get us back to the line of code causing
        the exception (presuming it is 'synchronous').</li>
      <li>web: allow placing backup files in another directory, instead of same
        directory as file, to reduce clutter when browsing the source with a
        file manager, especially useful when grepping for something- you only
        get hits in files that matter without having to use a fancy glob ('.h'
        or '.cpp'). The same would be nice for autosave files.</li>
      <li>stm32 bitband addresses show as 0xFEFEFEFE instead of a 0 or a 1. This
        is a processor specific thing, but arm supplies it for vendors to use so
        it might not be particularly vendor specific. This should be reasonable
        to control with a section in the memory def file.</li>
      <li>displaying binary values: a gap or some other mark every 4 bits (like
        the latest C spec accepts as input).</li>
      <li>local view of 'this' has an extra level of tree to open. Open this and
        you get a '*' and you have to then open that.</li>
      <li>open file dialog: should watch for files being added (by external
        actions)</li>
      <li>open file dialog: should remember last file filter, or allow you to
        configure a default. The existing default is wrong 100% of the time for
        me, at least when invoked by ^O. It seems that sometimes it remembers,
        sometimes not. It recently got obsessed with .ld files.</li>
      <li>open file dialog: put "all files" at a fixed extreme in the list, I
        use it mroe often than anything preloaded.</li>
      <li>An option for the files view to follow 1:1 the file system Eclipse
        added that pretty early on. Having to manually place files into folders
        reproducing the layout of the file system is tedious.</li>
      <li>Creating a folder after the fact I'd like to be aband moving the
        related files into it, drag and drop or right menu 'move' option.</li>
      <li>le to build: concatenation of configuration names is done with a space
        char, making commandline file management annoying. I text edit the hzp
        to replace the space with a dash.</li>
      <li>An option for "no heap", versus me chasing down HEAPSIZE and setting
        it to 0. I don't allow any dynamic allocation in microcontroller code
        and I want the link to fail hard if something tries.</li>
      <li>An option for "maximum stack", drops all the stack stuff from the
        linker other than setting the stack init value in the vector table to
        top of ram.</li>
      <li>Call Stack TOS on top of view instead of bottom. Show 'em in the order
        that you unwind them!</li>
      <li>precalculate ram allocations and use that to put stack at start of ram
        segment, so that stack overflow is a hardfault. I haven't yet been able
        to convince the linker to do that for me, attempts to size the data
        segment consume all the input sections.</li>
      <li>would like to easily disable or hide all printf/scanf/widechar
        functionality, perhaps hide them when 'use standard libraries' is
        disabled. OR tell me how to build my own configuration templates so that
        I quit having things I never use urged on me when building a new
        project.</li>
      <li>Editable keymap.Many of your key assignments are stolen by the unity
        desktop requiring me to use the mouse to get to the feature.</li>
      <li>on autocompletion of a funciton call the cursor is inside the parens,
        even if the function takes void. In that case it would be nice if it
        were past the closing paren.</li>
      <li>^O open files from project excludes generated file like the link map.
        It would be nice if generate files were included in the search list.</li>
      <li>in all tree views have "close all" and "open all" capability,
        especially for project properties.</li>
    </ol>
    <p>FYI: Why I use my own linker scripts and startup:</p>
    <ol>
      <li>I sort the various init items so that I get full control over
        initialization order. </li>
      <li>I use a very different approach to the interrupt table, so I don't
        have to hunt down spellings in some file. Since I need the number of the
        irq to enable and disable etc. I use a macro to generate an interrupt
        request alias and then the table itself is just weak versions of the
        numerical name. Now all I need to know about an interrupt is its number,
        not someone else's idea of what a good name for it should be. <br>
        This is especially handy when moving about which uart I am using for a
        feature, as I don't have to edit a uart-specific isr function name, I
        can change just one #defined number and both the irq control and the
        name of the handler are taken care of.</li>
      <li>My init code is all C++, except where the compiler produces such ugly
        code that I write some asm.</li>
      <li>I pack all the copy-to-init segments together and do a single block
        copy from rom to ram.</li>
      <li>I trust that gcc's alignment commands that are in the input sections
        are adequate for output alignment. This makes for a very readable (and
        small) script.</li>
      <li>I am old and set in my ways, or at least ornery.</li>
    </ol>
    <p>previous version bugs to confirm:</p>
    <ol>
      <li>BUG: debug view displays base class data from address offset, rather
        than this+offset.</li>
      <li>gui: menu popup can be off screen, greatly reducing their utility.
        Tested with dual monitor system with a tall monitor on the left and a
        shorter monitor on the right. Seems to presume that the monitors are all
        the same height.</li>
      <li>gui: see above- case is cycle counter right click menu, all off screen
        except for enough to tell that a menu is present.</li>
      <li>gui: with a large project opening up the dependent files node of the
        last entry pushed its content off screen</li>
    </ol>
  </body>
</html>
